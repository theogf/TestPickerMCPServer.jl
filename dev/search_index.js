var documenterSearchIndex = {"docs":
[{"location":"config/#Configuration","page":"Configuration","title":"Configuration","text":"TestPickerMCPServer supports three configuration methods with clear precedence:\n\nPreferences.jl (persistent, highest priority)\nEnvironment variables (session-specific)\nDefault values (fallback)","category":"section"},{"location":"config/#Available-Settings","page":"Configuration","title":"Available Settings","text":"Setting Env Variable Description Default\ntransport TESTPICKER_MCP_TRANSPORT Transport type: \"stdio\" or \"http\" \"stdio\"\nhost TESTPICKER_MCP_HOST HTTP server host \"127.0.0.1\"\nport TESTPICKER_MCP_PORT HTTP server port 3000","category":"section"},{"location":"config/#Method-1:-Preferences.jl-(Recommended)","page":"Configuration","title":"Method 1: Preferences.jl (Recommended)","text":"Persistent preferences that survive across sessions:\n\nusing TestPickerMCPServer\nusing Preferences\n\n# Configure for HTTP mode\nset_preferences!(TestPickerMCPServer, \"transport\" => \"http\", \"port\" => 3000)\n\n# Start server (will use saved preferences)\nstart_server()\n\nPreferences are stored in LocalPreferences.toml in your project directory.","category":"section"},{"location":"config/#View-Current-Preferences","page":"Configuration","title":"View Current Preferences","text":"using Preferences\n@load_preference(TestPickerMCPServer, \"transport\")  # Returns saved value or nothing","category":"section"},{"location":"config/#Clear-Preferences","page":"Configuration","title":"Clear Preferences","text":"using Preferences\ndelete_preferences!(TestPickerMCPServer, \"transport\", \"host\", \"port\")","category":"section"},{"location":"config/#Method-2:-Environment-Variables","page":"Configuration","title":"Method 2: Environment Variables","text":"Override preferences for a single session:\n\n# HTTP mode with custom port\nTESTPICKER_MCP_TRANSPORT=http \\\nTESTPICKER_MCP_PORT=8080 \\\njulia --project=@mcp -e 'using TestPickerMCPServer; start_server()'","category":"section"},{"location":"config/#Method-3:-Defaults","page":"Configuration","title":"Method 3: Defaults","text":"If neither preferences nor environment variables are set:\n\ntransport: stdio\nhost: 127.0.0.1\nport: 3000","category":"section"},{"location":"config/#Configuration-Precedence-Example","page":"Configuration","title":"Configuration Precedence Example","text":"# Scenario: Preference set to HTTP:3000, ENV set to port 8080\nset_preferences!(TestPickerMCPServer, \"transport\" => \"http\", \"port\" => 3000)\nENV[\"TESTPICKER_MCP_PORT\"] = \"8080\"\n\nstart_server()\n# Result: Uses HTTP on port 8080 (ENV overrides preference for port)","category":"section"},{"location":"config/#HTTP-vs-Stdio","page":"Configuration","title":"HTTP vs Stdio","text":"","category":"section"},{"location":"config/#When-to-Use-Stdio-(Default)","page":"Configuration","title":"When to Use Stdio (Default)","text":"Claude Desktop integration\nLocal development\nSimple one-client scenarios","category":"section"},{"location":"config/#When-to-Use-HTTP","page":"Configuration","title":"When to Use HTTP","text":"Testing with MCP Inspector\nMultiple concurrent clients\nRemote access scenarios\nDevelopment and debugging","category":"section"},{"location":"config/#HTTP-Mode-Example","page":"Configuration","title":"HTTP Mode Example","text":"using Preferences\nset_preferences!(TestPickerMCPServer,\n    \"transport\" => \"http\",\n    \"host\" => \"127.0.0.1\",\n    \"port\" => 3000\n)\n\nstart_server()\n# Server runs on http://127.0.0.1:3000","category":"section"},{"location":"tools/#MCP-Tools-Reference","page":"MCP Tools Reference","title":"MCP Tools Reference","text":"TestPickerMCPServer exposes 7 tools via the Model Context Protocol.","category":"section"},{"location":"tools/#1.-list_testfiles","page":"MCP Tools Reference","title":"1. list_testfiles","text":"List all test files in the current package.\n\nParameters:\n\nquery (string, optional): Fuzzy query to filter files\n\nReturns:\n\n{\n  \"test_dir\": \"/absolute/path/to/test\",\n  \"files\": [\"runtests.jl\", \"test_feature.jl\"],\n  \"count\": 2\n}\n\nExample:\n\n// List all test files\n{\"query\": \"\"}\n\n// Filter for files containing \"feature\"\n{\"query\": \"feature\"}\n\n","category":"section"},{"location":"tools/#2.-list_testblocks","page":"MCP Tools Reference","title":"2. list_testblocks","text":"List all @testset blocks in test files.\n\nParameters:\n\nfile_query (string, optional): Filter which files to scan (empty = all files)\n\nReturns:\n\n{\n  \"testblocks\": [\n    {\n      \"label\": \"Feature Tests\",\n      \"file\": \"test_feature.jl\",\n      \"line_start\": 10,\n      \"line_end\": 25\n    }\n  ],\n  \"count\": 1\n}\n\nExample:\n\n// List all testsets\n{\"file_query\": \"\"}\n\n// List testsets only in files matching \"utils\"\n{\"file_query\": \"utils\"}\n\n","category":"section"},{"location":"tools/#3.-run*all*tests","page":"MCP Tools Reference","title":"3. runalltests","text":"Run the entire test suite.\n\nParameters: None\n\nReturns:\n\n{\n  \"status\": \"completed\",\n  \"files_run\": 5,\n  \"failures\": 0\n}\n\nNotes:\n\nRuns all tests in the package's test/ directory\nUse get_testresults after to see failures/errors\n\n","category":"section"},{"location":"tools/#4.-run_testfiles","page":"MCP Tools Reference","title":"4. run_testfiles","text":"Run specific test file(s) matched by query.\n\nParameters:\n\nquery (string, required): Fuzzy query to match files\n\nReturns:\n\n{\n  \"status\": \"completed\",\n  \"files_run\": [\"test_feature.jl\", \"test_utils.jl\"]\n}\n\nExample:\n\n// Run files matching \"feature\"\n{\"query\": \"feature\"}\n\n// Run files matching \"test\"\n{\"query\": \"test\"}\n\nError Response:\n\n// If no matches found\n\"No matches for 'nonexistent'\"\n\n","category":"section"},{"location":"tools/#5.-run_testblocks","page":"MCP Tools Reference","title":"5. run_testblocks","text":"Run specific @testset blocks by query.\n\nParameters:\n\nfile_query (string, optional): Filter files first\ntestset_query (string, required): Match testset names\n\nReturns:\n\n{\n  \"status\": \"completed\"\n}\n\nExample:\n\n// Run all testsets matching \"edge cases\"\n{\n  \"file_query\": \"\",\n  \"testset_query\": \"edge cases\"\n}\n\n// Run testsets matching \"performance\" in files matching \"utils\"\n{\n  \"file_query\": \"utils\",\n  \"testset_query\": \"performance\"\n}\n\n","category":"section"},{"location":"tools/#6.-get_testresults","page":"MCP Tools Reference","title":"6. get_testresults","text":"Retrieve detailed failures and errors from the last test run.\n\nParameters: None\n\nReturns:\n\n{\n  \"failures\": [\n    {\n      \"test\": \"@test foo == bar\",\n      \"file\": \"test_feature.jl:15\",\n      \"error\": \"Expected: bar\\nGot: baz\",\n      \"context\": \"Feature Tests\"\n    }\n  ],\n  \"errors\": [\n    {\n      \"test\": \"Exception in test block\",\n      \"file\": \"test_utils.jl:42\",\n      \"error\": \"UndefVarError: x not defined\\n  [1] ...\",\n      \"context\": \"test_utils.jl\"\n    }\n  ],\n  \"count\": {\n    \"failures\": 1,\n    \"errors\": 1,\n    \"total\": 2\n  }\n}\n\nNotes:\n\nReturns empty arrays if all tests passed\nfailures: Test assertion failures (@test failures)\nerrors: Exceptions during test execution\nResults persist until next test run","category":"section"},{"location":"tools/#Tool-Workflow-Examples","page":"MCP Tools Reference","title":"Tool Workflow Examples","text":"","category":"section"},{"location":"tools/#Discover-and-Run-Workflow","page":"MCP Tools Reference","title":"Discover and Run Workflow","text":"// 1. List all test files\nlist_testfiles({})\n\n// 2. List testsets in specific file\nlist_testblocks({\"file_query\": \"feature\"})\n\n// 3. Run specific testset\nrun_testblocks({\"file_query\": \"feature\", \"testset_query\": \"edge cases\"})\n\n// 4. Check results\nget_testresults({})","category":"section"},{"location":"tools/#Debug-Failing-Tests-Workflow","page":"MCP Tools Reference","title":"Debug Failing Tests Workflow","text":"// 1. Run all tests\nrun_all_tests({})\n\n// 2. Get failures\nget_testresults({})\n// See which file has failures\n\n// 3. Re-run just that file\nrun_testfiles({\"query\": \"feature\"})\n\n// 4. Get updated results\nget_testresults({})","category":"section"},{"location":"95-reference/#reference","page":"Reference","title":"Reference","text":"","category":"section"},{"location":"95-reference/#Contents","page":"Reference","title":"Contents","text":"Pages = [\"95-reference.md\"]","category":"section"},{"location":"95-reference/#Index","page":"Reference","title":"Index","text":"Pages = [\"95-reference.md\"]","category":"section"},{"location":"95-reference/#TestPickerMCPServer.TestPickerMCPServer","page":"Reference","title":"TestPickerMCPServer.TestPickerMCPServer","text":"TestPickerMCPServer\n\nMCP (Model Context Protocol) server for TestPicker.jl.\n\nExposes Julia testing functionality via MCP, enabling LLMs to discover, run, and inspect tests programmatically.\n\nUsage\n\nusing TestPickerMCPServer\nTestPickerMCPServer.start_server()  # Blocks and runs the MCP server\n\nOr via command line:\n\njulia --project -e 'using TestPickerMCPServer; TestPickerMCPServer.start_server()'\n\nSee docs for the type of transports and other config parameters.\n\n\n\n\n\n","category":"module"},{"location":"95-reference/#TestPickerMCPServer.ALL_TOOLS","page":"Reference","title":"TestPickerMCPServer.ALL_TOOLS","text":"All tools exported by this module.\n\n\n\n\n\n","category":"constant"},{"location":"95-reference/#TestPickerMCPServer.SERVER_PKG","page":"Reference","title":"TestPickerMCPServer.SERVER_PKG","text":"Cache the current package in use.\n\n\n\n\n\n","category":"constant"},{"location":"95-reference/#TestPickerMCPServer.TOOL_ACTIVATE_PACKAGE","page":"Reference","title":"TestPickerMCPServer.TOOL_ACTIVATE_PACKAGE","text":"Tool: activate_package\n\nActivate a different Julia package directory.\n\n\n\n\n\n","category":"constant"},{"location":"95-reference/#TestPickerMCPServer.TOOL_GET_RESULTS","page":"Reference","title":"TestPickerMCPServer.TOOL_GET_RESULTS","text":"Tool: get_testresults\n\nGet detailed test results from the last run.\n\n\n\n\n\n","category":"constant"},{"location":"95-reference/#TestPickerMCPServer.TOOL_LIST_BLOCKS","page":"Reference","title":"TestPickerMCPServer.TOOL_LIST_BLOCKS","text":"Tool: list_testblocks\n\nList all test blocks/testsets in test files.\n\n\n\n\n\n","category":"constant"},{"location":"95-reference/#TestPickerMCPServer.TOOL_LIST_FILES","page":"Reference","title":"TestPickerMCPServer.TOOL_LIST_FILES","text":"Tool: list_testfiles\n\nList all test files in the current Julia package.\n\n\n\n\n\n","category":"constant"},{"location":"95-reference/#TestPickerMCPServer.TOOL_RUN_ALL","page":"Reference","title":"TestPickerMCPServer.TOOL_RUN_ALL","text":"Tool: runalltests\n\nRun the entire test suite.\n\n\n\n\n\n","category":"constant"},{"location":"95-reference/#TestPickerMCPServer.TOOL_RUN_BLOCKS","page":"Reference","title":"TestPickerMCPServer.TOOL_RUN_BLOCKS","text":"Tool: run_testblocks\n\nRun specific test block(s)/testset(s) by query.\n\n\n\n\n\n","category":"constant"},{"location":"95-reference/#TestPickerMCPServer.TOOL_RUN_FILES","page":"Reference","title":"TestPickerMCPServer.TOOL_RUN_FILES","text":"Tool: run_testfiles\n\nRun specific test file(s) by query.\n\n\n\n\n\n","category":"constant"},{"location":"95-reference/#TestPickerMCPServer.detect_package-Tuple{}","page":"Reference","title":"TestPickerMCPServer.detect_package","text":"detect_package() -> PackageSpec\n\nDetect the current Julia package using TestPicker's current_pkg(). Throws an informative error if not in a package environment.\n\n\n\n\n\n","category":"method"},{"location":"95-reference/#TestPickerMCPServer.filter_files-Tuple{Vector{String}, String}","page":"Reference","title":"TestPickerMCPServer.filter_files","text":"filter_files(files::Vector{String}, query::String) -> Vector{String}\n\nFilter files by query string. DRY helper used by multiple handlers.\n\n\n\n\n\n","category":"method"},{"location":"95-reference/#TestPickerMCPServer.format_block_results-Tuple{Any}","page":"Reference","title":"TestPickerMCPServer.format_block_results","text":"format_block_results(results) -> Dict\n\nFormat test block execution results into a consistent structure. Handles both successful EvalResult objects and error cases. Returns empty structure if results is nothing.\n\n\n\n\n\n","category":"method"},{"location":"95-reference/#TestPickerMCPServer.format_file_results-Tuple{Any}","page":"Reference","title":"TestPickerMCPServer.format_file_results","text":"format_file_results(results) -> Dict\n\nFormat test file execution results into a consistent structure. Handles both successful EvalResult objects and error cases. Returns empty structure if results is nothing.\n\n\n\n\n\n","category":"method"},{"location":"95-reference/#TestPickerMCPServer.get_config-Tuple{String, Any}","page":"Reference","title":"TestPickerMCPServer.get_config","text":"get_config(key::String, default)\n\nGet configuration value with precedence: Preferences.jl > ENV > default.\n\n\n\n\n\n","category":"method"},{"location":"95-reference/#TestPickerMCPServer.handle_activate_package-Tuple{Dict{String, Any}}","page":"Reference","title":"TestPickerMCPServer.handle_activate_package","text":"handle_activate_package(params::Dict{String,Any}) -> Content\n\nActivate a different package directory and update the server's active package.\n\n\n\n\n\n","category":"method"},{"location":"95-reference/#TestPickerMCPServer.handle_get_testresults-Tuple{Dict{String, Any}}","page":"Reference","title":"TestPickerMCPServer.handle_get_testresults","text":"handle_get_testresults(params::Dict{String,Any}) -> Content\n\nRetrieve test failures and errors from the last test run.\n\n\n\n\n\n","category":"method"},{"location":"95-reference/#TestPickerMCPServer.handle_list_testblocks-Tuple{Dict{String, Any}}","page":"Reference","title":"TestPickerMCPServer.handle_list_testblocks","text":"handle_list_testblocks(params::Dict{String,Any}) -> Content\n\nList all test blocks/testsets, optionally filtered by file query.\n\n\n\n\n\n","category":"method"},{"location":"95-reference/#TestPickerMCPServer.handle_list_testfiles-Tuple{Dict{String, Any}}","page":"Reference","title":"TestPickerMCPServer.handle_list_testfiles","text":"handle_list_testfiles(params::Dict{String,Any}) -> Content\n\nList all test files in the current package, optionally filtered by query.\n\n\n\n\n\n","category":"method"},{"location":"95-reference/#TestPickerMCPServer.handle_run_all_tests-Tuple{Dict{String, Any}}","page":"Reference","title":"TestPickerMCPServer.handle_run_all_tests","text":"handle_run_all_tests(params::Dict{String,Any}) -> Content\n\nRun the entire test suite for the current package. If runtests.jl exists, run it. Otherwise run all test files.\n\n\n\n\n\n","category":"method"},{"location":"95-reference/#TestPickerMCPServer.handle_run_testblocks-Tuple{Dict{String, Any}}","page":"Reference","title":"TestPickerMCPServer.handle_run_testblocks","text":"handle_run_testblocks(params::Dict{String,Any}) -> Content\n\nRun specific test block(s) matched by queries.\n\n\n\n\n\n","category":"method"},{"location":"95-reference/#TestPickerMCPServer.handle_run_testfiles-Tuple{Dict{String, Any}}","page":"Reference","title":"TestPickerMCPServer.handle_run_testfiles","text":"handle_run_testfiles(params::Dict{String,Any}) -> Content\n\nRun specific test file(s) matched by query.\n\n\n\n\n\n","category":"method"},{"location":"95-reference/#TestPickerMCPServer.parse_results_file-Tuple{Union{Nothing, Pkg.Types.PackageSpec}}","page":"Reference","title":"TestPickerMCPServer.parse_results_file","text":"parse_results_file(pkg::Union{PackageSpec,Nothing}) -> Dict\n\nRead and parse the TestPicker results file into structured format. Returns dict with failures, errors, and counts.\n\n\n\n\n\n","category":"method"},{"location":"95-reference/#TestPickerMCPServer.start_server","page":"Reference","title":"TestPickerMCPServer.start_server","text":"start_server(pkg_dir::String=pwd())\n\nStart the TestPicker MCP server for the specified package directory.\n\nArguments\n\npkg_dir::String: Path to the Julia package directory (defaults to current directory). The package environment will be automatically activated.\n\nConfiguration is read with the following precedence:\n\nPreferences.jl (persistent, set via set_preferences!)\nEnvironment variables (TESTPICKERMCPTRANSPORT, etc.)\nDefault values\n\nAvailable settings:\n\ntransport: \"stdio\" (default) or \"http\"\nhost: HTTP host (default: \"127.0.0.1\")\nport: HTTP port (default: 3000)\n\nExamples\n\nStart server for current directory:\n\njulia --project -e 'using TestPickerMCPServer; start_server()'\n\nStart server for specific package (useful with tools environment):\n\njulia --project=~/.julia/environments/mcp-tools -e 'using TestPickerMCPServer; start_server(\"/path/to/package\")'\n\nUsing environment variables:\n\nTESTPICKER_MCP_TRANSPORT=http julia --project -e 'using TestPickerMCPServer; start_server()'\n\nUsing Preferences.jl (persistent):\n\nusing TestPickerMCPServer\nusing Preferences\nset_preferences!(TestPickerMCPServer, \"transport\" => \"http\", \"port\" => 3000)\nstart_server()\n\nThis function blocks until the server is stopped.\n\n\n\n\n\n","category":"function"},{"location":"95-reference/#TestPickerMCPServer.to_json-Tuple{Any}","page":"Reference","title":"TestPickerMCPServer.to_json","text":"to_json(data) -> TextContent\n\nConvert data to JSON and wrap in TextContent. DRY helper for all handlers.\n\n\n\n\n\n","category":"method"},{"location":"95-reference/#TestPickerMCPServer.with_error_handling-Tuple{Function, String}","page":"Reference","title":"TestPickerMCPServer.with_error_handling","text":"with_error_handling(f::Function, operation::String) -> Content\n\nDRY wrapper for tool handlers. Catches exceptions and returns proper MCP responses.\n\n\n\n\n\n","category":"method"},{"location":"examples/#Usage-Examples","page":"Usage Examples","title":"Usage Examples","text":"Real-world workflows and examples using TestPickerMCPServer.","category":"section"},{"location":"examples/#Example-1:-Discover-and-Run-Tests","page":"Usage Examples","title":"Example 1: Discover and Run Tests","text":"Workflow for exploring a new package's tests:\n\n// Step 1: List all test files\nlist_testfiles({})\n// Returns: {\"files\": [\"runtests.jl\", \"test_feature.jl\", \"test_utils.jl\"], ...}\n\n// Step 2: List testsets in a specific file\nlist_testblocks({\"file_query\": \"feature\"})\n// Returns: {\"testblocks\": [{\"label\": \"Edge Cases\", ...}, {\"label\": \"Happy Path\", ...}]}\n\n// Step 3: Run a specific testset\nrun_testblocks({\"file_query\": \"feature\", \"testset_query\": \"edge\"})\n// Returns: {\"status\": \"completed\"}\n\n// Step 4: Check if any tests failed\nget_testresults({})\n// Returns: failures and errors, or empty arrays if all passed","category":"section"},{"location":"examples/#Example-2:-Debug-Failing-Tests","page":"Usage Examples","title":"Example 2: Debug Failing Tests","text":"When your test suite has failures:\n\n// Step 1: Run all tests to find failures\nrun_all_tests({})\n// Returns: {\"status\": \"completed\", \"failures\": 3}\n\n// Step 2: Get detailed error information\nget_testresults({})\n// Returns: {\n//   \"failures\": [\n//     {\"test\": \"@test foo() == 42\", \"file\": \"test_feature.jl:15\", ...}\n//   ]\n// }\n\n// Step 3: Re-run just the failing file\nrun_testfiles({\"query\": \"feature\"})\n\n// Step 4: Check if fixed\nget_testresults({})","category":"section"},{"location":"examples/#Example-3:-Regression-Testing","page":"Usage Examples","title":"Example 3: Regression Testing","text":"After making changes, verify specific functionality:\n\n// List testsets related to the changed feature\nlist_testblocks({\"file_query\": \"\"})\n// Scan for relevant testsets\n\n// Run only the relevant testsets\nrun_testblocks({\"testset_query\": \"authentication\"})\n\n// Verify no regressions\nget_testresults({})","category":"section"},{"location":"examples/#Example-4:-CI/CD-Integration","page":"Usage Examples","title":"Example 4: CI/CD Integration","text":"Use TestPickerMCPServer in automated workflows:\n\nusing TestPickerMCPServer\nusing JSON3\n\n# Start in HTTP mode for external access\nENV[\"TESTPICKER_MCP_TRANSPORT\"] = \"http\"\nstart_server()\n\n# Or use directly (pseudo-code):\nresult = run_testfiles(Dict(\"query\" => \"integration\"))\nresults = get_testresults(Dict())\n\nif results[\"count\"][\"total\"] > 0\n    # Tests failed\n    exit(1)\nend","category":"section"},{"location":"examples/#Example-5:-Selective-Test-Execution","page":"Usage Examples","title":"Example 5: Selective Test Execution","text":"Run only tests matching specific patterns:\n\n// Run all \"performance\" testsets\nrun_testblocks({\"testset_query\": \"performance\"})\n\n// Run all tests in files matching \"integration\"\nrun_testfiles({\"query\": \"integration\"})\n\n// Run specific edge case tests\nrun_testblocks({\n  \"file_query\": \"feature\",\n  \"testset_query\": \"edge\"\n})","category":"section"},{"location":"examples/#Example-6:-Test-Suite-Analysis","page":"Usage Examples","title":"Example 6: Test Suite Analysis","text":"Analyze your test suite structure:\n\n// Get overview of all test files\nlist_testfiles({})\n// Count how many test files you have\n\n// Get all testsets\nlist_testblocks({})\n// Analyze:\n// - How many testsets?\n// - What areas are tested?\n// - Are tests well-organized?\n\n// Example response analysis:\n// {\n//   \"testblocks\": [\n//     {\"label\": \"Basic Operations\", \"file\": \"test_core.jl\", ...},\n//     {\"label\": \"Edge Cases\", \"file\": \"test_core.jl\", ...},\n//     {\"label\": \"Performance\", \"file\": \"test_perf.jl\", ...}\n//   ],\n//   \"count\": 3\n// }\n// Shows: 3 testsets across 2 files","category":"section"},{"location":"examples/#Example-7:-Interactive-Testing-Session","page":"Usage Examples","title":"Example 7: Interactive Testing Session","text":"Typical LLM-assisted testing session:\n\nUser: \"Can you check if the authentication tests are passing?\"\n\nLLM uses tools:\n\n// 1. Find auth-related tests\nlist_testblocks({\"file_query\": \"\"})\n// Finds: \"Authentication Tests\" in test_auth.jl\n\n// 2. Run those tests\nrun_testblocks({\"testset_query\": \"authentication\"})\n\n// 3. Check results\nget_testresults({})\n\nLLM reports: \"The authentication tests are failing with 2 errors...\"","category":"section"},{"location":"examples/#Example-8:-Test-Coverage-Workflow","page":"Usage Examples","title":"Example 8: Test Coverage Workflow","text":"Understanding what's tested:\n\n// 1. List all test files\nlist_testfiles({})\n\n// 2. For each file, list its testsets\nlist_testblocks({\"file_query\": \"auth\"})\nlist_testblocks({\"file_query\": \"utils\"})\nlist_testblocks({\"file_query\": \"api\"})\n\n// 3. Identify gaps\n// - Are all modules tested?\n// - Are there missing edge cases?","category":"section"},{"location":"examples/#Example-9:-Fuzzy-Matching","page":"Usage Examples","title":"Example 9: Fuzzy Matching","text":"The query system uses fuzzy matching:\n\n// These all match \"test_feature_extraction.jl\":\n{\"query\": \"feature\"}\n{\"query\": \"extraction\"}\n{\"query\": \"test_feat\"}\n{\"query\": \"extract\"}\n\n// These all match \"@testset \\\"Feature Extraction Tests\\\"\":\n{\"testset_query\": \"feature\"}\n{\"testset_query\": \"extraction\"}\n{\"testset_query\": \"feat extract\"}","category":"section"},{"location":"examples/#Example-10:-Batch-Testing","page":"Usage Examples","title":"Example 10: Batch Testing","text":"Run multiple test files:\n\n// Run all files matching \"integration\"\nrun_testfiles({\"query\": \"integration\"})\n// Might run: test_integration_api.jl, test_integration_db.jl, etc.\n\n// Run all tests (no filter)\nrun_all_tests({})","category":"section"},{"location":"examples/#Common-Patterns","page":"Usage Examples","title":"Common Patterns","text":"","category":"section"},{"location":"examples/#Pattern:-Test-Driven-Development","page":"Usage Examples","title":"Pattern: Test-Driven Development","text":"// 1. Write test\n// 2. Run specific testset\nrun_testblocks({\"testset_query\": \"new feature\"})\n// 3. See it fail\nget_testresults({})\n// 4. Implement feature\n// 5. Re-run\nrun_testblocks({\"testset_query\": \"new feature\"})\n// 6. Verify pass","category":"section"},{"location":"examples/#Pattern:-Bug-Fix-Verification","page":"Usage Examples","title":"Pattern: Bug Fix Verification","text":"// 1. Reproduce bug with test\nrun_testblocks({\"testset_query\": \"bug #123\"})\n// 2. Verify test fails\nget_testresults({})\n// 3. Fix bug\n// 4. Re-run test\nrun_testblocks({\"testset_query\": \"bug #123\"})\n// 5. Verify fix","category":"section"},{"location":"examples/#Pattern:-Pre-Commit-Check","page":"Usage Examples","title":"Pattern: Pre-Commit Check","text":"// Run all tests before committing\nrun_all_tests({})\nget_testresults({})\n// If results[\"count\"][\"total\"] == 0, safe to commit","category":"section"},{"location":"examples/#Tips","page":"Usage Examples","title":"Tips","text":"Use empty queries to see everything: {\"query\": \"\"}\nStart broad, narrow down: List all, then filter\nCheck results after every run: get_testresults({})\nUse fuzzy matching: Type less, match more\nRun specific tests: Faster feedback than full suite","category":"section"},{"location":"troubleshooting/#Troubleshooting","page":"Troubleshooting","title":"Troubleshooting","text":"Common issues and solutions when using TestPickerMCPServer.","category":"section"},{"location":"troubleshooting/#Package-Environment-Error","page":"Troubleshooting","title":"Package Environment Error","text":"Error:\n\nFailed to detect current package. Please ensure you:\n1. Are running the MCP server from within a Julia package directory\n2. Have a valid Project.toml in the current directory\n3. Have activated the package environment\n\nCause: Server started outside a Julia package directory.\n\nSolution:\n\nNavigate to your package directory before starting:\n\ncd /path/to/your/package\njulia --project=@mcp -e 'using TestPickerMCPServer; start_server()'\n\nVerify you're in a package:\n\n# Should show Project.toml\nls Project.toml\n\n# Should have a test directory\nls test/\n\n","category":"section"},{"location":"troubleshooting/#No-Matching-Tests-Found","page":"Troubleshooting","title":"No Matching Tests Found","text":"Error:\n\n\"No matches for 'myquery'\"\n\nCause: Query doesn't match any test files or blocks.\n\nSolutions:\n\nList available files first:\n\nlist_testfiles({})\n\nList available testsets:\n\nlist_testblocks({})\n\nUse simpler queries:\n\n// Instead of\n{\"query\": \"test_my_complex_feature\"}\n\n// Try\n{\"query\": \"feature\"}\n\nCheck for typos - queries are case-insensitive but must match substrings\n\n","category":"section"},{"location":"troubleshooting/#HTTP-Transport-Not-Working-on-Windows","page":"Troubleshooting","title":"HTTP Transport Not Working on Windows","text":"Error: Server starts but MCP Inspector can't connect.\n\nCause: Windows IPv6 issues with localhost.\n\nSolution:\n\nUse 127.0.0.1 explicitly:\n\nusing Preferences\nset_preferences!(TestPickerMCPServer,\n    \"transport\" => \"http\",\n    \"host\" => \"127.0.0.1\",\n    \"port\" => 3000\n)\n\nOr via environment:\n\nset TESTPICKER_MCP_HOST=127.0.0.1\nset TESTPICKER_MCP_TRANSPORT=http\njulia --project=@mcp -e \"using TestPickerMCPServer; start_server()\"\n\n","category":"section"},{"location":"troubleshooting/#Empty-Test-Results","page":"Troubleshooting","title":"Empty Test Results","text":"Response:\n\n{\n  \"failures\": [],\n  \"errors\": [],\n  \"count\": {\"failures\": 0, \"errors\": 0, \"total\": 0}\n}\n\nCause: All tests passed!\n\nVerification:\n\nThis is expected when tests succeed. Verify with run responses:\n\n{\n  \"status\": \"completed\",\n  \"files_run\": 3,\n  \"failures\": 0  // <-- 0 means all passed\n}\n\n","category":"section"},{"location":"troubleshooting/#Failed-to-Parse-Test-Blocks","page":"Troubleshooting","title":"Failed to Parse Test Blocks","text":"Warning:\n\nFailed to parse test_file.jl\n\nCause: Syntax error or unsupported test structure in file.\n\nSolutions:\n\nCheck file syntax:\n\njulia --project=@mcp -e 'include(\"test/test_file.jl\")'\n\nVerify @testset structure:\n\n# Good\n@testset \"My Tests\" begin\n    @test 1 + 1 == 2\nend\n\n# May cause issues\n@testset begin  # Missing label\n    @test 1 + 1 == 2\nend\n\nFile continues to work - only that file's testsets won't be listed\n\n","category":"section"},{"location":"troubleshooting/#Connection-Refused-(HTTP-Mode)","page":"Troubleshooting","title":"Connection Refused (HTTP Mode)","text":"Error: MCP Inspector shows \"Connection refused\"\n\nChecks:\n\nVerify server is running:\n\n# Should show server listening\nnetstat -an | grep 3000\n\nCheck firewall:\n\n# Allow Julia through firewall\nsudo ufw allow 3000/tcp  # Linux\n\nVerify configuration:\n\nusing Preferences\n@load_preference(TestPickerMCPServer, \"transport\")  # Should be \"http\"\n@load_preference(TestPickerMCPServer, \"port\")       # Should match\n\n","category":"section"},{"location":"troubleshooting/#Server-Hangs-or-Freezes","page":"Troubleshooting","title":"Server Hangs or Freezes","text":"Symptom: Server starts but doesn't respond to requests.\n\nPotential Causes:\n\nLong-running tests - Tests are executing, be patient\nDeadlock in test code - Check your test suite independently\nWrong transport mode - Verify transport configuration\n\nSolutions:\n\nCheck if tests run normally:\n\njulia --project=@mcp -e 'using Pkg; Pkg.test()'\n\nEnable logging:\n\nJULIA_DEBUG=TestPickerMCPServer julia --project=@mcp -e '...'\n\nTry HTTP mode for debugging:\n\nset_preferences!(TestPickerMCPServer, \"transport\" => \"http\")\n# HTTP transport is easier to debug with curl/browser\n\n","category":"section"},{"location":"troubleshooting/#Preferences-Not-Persisting","page":"Troubleshooting","title":"Preferences Not Persisting","text":"Symptom: Settings reset every session.\n\nCause: Writing preferences to wrong location or missing LocalPreferences.toml.\n\nSolution:\n\nVerify LocalPreferences.toml exists:\n\nls LocalPreferences.toml\n\nCheck you're in package root:\n\npwd  # Should be your package directory\nls Project.toml  # Should exist\n\nSet preferences correctly:\n\n# Must use the module, not a string\nusing TestPickerMCPServer\nset_preferences!(TestPickerMCPServer, \"transport\" => \"http\")\n# NOT: set_preferences!(\"TestPickerMCPServer\", ...)\n\n","category":"section"},{"location":"troubleshooting/#Getting-Help","page":"Troubleshooting","title":"Getting Help","text":"If your issue isn't listed:\n\nCheck GitHub Issues\nEnable debug logging: JULIA_DEBUG=TestPickerMCPServer\nTest TestPicker.jl directly to isolate the issue\nOpen a new issue with:\nJulia version (versioninfo())\nServer configuration\nMinimal reproducible example","category":"section"},{"location":"claude-desktop/#Claude-Desktop-Integration","page":"Claude Desktop Integration","title":"Claude Desktop Integration","text":"Complete guide to integrating TestPickerMCPServer with Claude Desktop.","category":"section"},{"location":"claude-desktop/#Configuration-File-Location","page":"Claude Desktop Integration","title":"Configuration File Location","text":"macOS/Linux:\n\n~/.config/Claude/claude_desktop_config.json\n\nWindows:\n\n%APPDATA%\\Claude\\claude_desktop_config.json","category":"section"},{"location":"claude-desktop/#Basic-Configuration-(Stdio)","page":"Claude Desktop Integration","title":"Basic Configuration (Stdio)","text":"Add to your Claude Desktop config:\n\n{\n  \"mcpServers\": {\n    \"testpicker\": {\n      \"command\": \"julia\",\n      \"args\": [\n        \"--project\",\n        \"-e\",\n        \"using TestPickerMCPServer; start_server()\"\n      ]\n    }\n  }\n}\n\nImportant: The server must be started from a Julia package directory. You'll need to:\n\nOpen Claude Desktop\nNavigate to your package in the terminal\nThe server will auto-detect the package from the current directory","category":"section"},{"location":"claude-desktop/#Advanced:-Package-Specific-Configuration","page":"Claude Desktop Integration","title":"Advanced: Package-Specific Configuration","text":"If you want to test a specific package, set the working directory:\n\n{\n  \"mcpServers\": {\n    \"testpicker-mypackage\": {\n      \"command\": \"julia\",\n      \"args\": [\n        \"--project\",\n        \"-e\",\n        \"cd(\\\"/path/to/MyPackage\\\"); using TestPickerMCPServer; start_server()\"\n      ]\n    }\n  }\n}","category":"section"},{"location":"claude-desktop/#HTTP-Transport-Configuration","page":"Claude Desktop Integration","title":"HTTP Transport Configuration","text":"For HTTP mode (useful for debugging):\n\n{\n  \"mcpServers\": {\n    \"testpicker-http\": {\n      \"command\": \"npx\",\n      \"args\": [\n        \"mcp-remote\",\n        \"http://127.0.0.1:3000\",\n        \"--allow-http\"\n      ]\n    }\n  }\n}\n\nThen start the server separately:\n\ncd your-package\nTESTPICKER_MCP_TRANSPORT=http julia --project=@mcp -e 'using TestPickerMCPServer; start_server()'","category":"section"},{"location":"claude-desktop/#Using-Preferences-for-Permanent-Settings","page":"Claude Desktop Integration","title":"Using Preferences for Permanent Settings","text":"Instead of environment variables, use Preferences.jl in your package:\n\n# In your package directory\njulia --project=@mcp -e '\nusing Preferences, TestPickerMCPServer\nset_preferences!(TestPickerMCPServer,\n    \"transport\" => \"stdio\"  # or \"http\"\n)\n'\n\nThen your Claude Desktop config can be simple:\n\n{\n  \"mcpServers\": {\n    \"testpicker\": {\n      \"command\": \"julia\",\n      \"args\": [\"--project\", \"-e\", \"using TestPickerMCPServer; start_server()\"]\n    }\n  }\n}","category":"section"},{"location":"claude-desktop/#Verifying-Integration","page":"Claude Desktop Integration","title":"Verifying Integration","text":"Restart Claude Desktop after changing config\nCheck server is available:\nType a message in Claude\nLook for TestPicker tools in the tools panel\nTest a tool:\nCan you list the test files in this package?\nExpected response:\nClaude will use list_testfiles tool\nReturns JSON with test files","category":"section"},{"location":"claude-desktop/#Troubleshooting","page":"Claude Desktop Integration","title":"Troubleshooting","text":"","category":"section"},{"location":"claude-desktop/#Server-Not-Appearing","page":"Claude Desktop Integration","title":"Server Not Appearing","text":"Check config syntax:\n\n# macOS/Linux\ncat ~/.config/Claude/claude_desktop_config.json | jq .\n\n# Should parse without errors\n\nVerify Julia installation:\n\nwhich julia\njulia --version","category":"section"},{"location":"claude-desktop/#Wrong-Package-Detected","page":"Claude Desktop Integration","title":"Wrong Package Detected","text":"Symptom: Server detects different package than expected.\n\nSolution: Explicitly set working directory in config:\n\n{\n  \"args\": [\n    \"--project\",\n    \"-e\",\n    \"cd(\\\"/absolute/path/to/package\\\"); using TestPickerMCPServer; start_server()\"\n  ]\n}","category":"section"},{"location":"claude-desktop/#Server-Crashes-on-Startup","page":"Claude Desktop Integration","title":"Server Crashes on Startup","text":"Check logs:\n\nClaude Desktop → Help → Show Logs\nLook for Julia errors\n\nCommon causes:\n\nMissing dependencies: Run julia --project=@mcp -e 'using Pkg; Pkg.instantiate()'\nNot in a package: Ensure cd() points to a valid package\nSyntax errors in config JSON","category":"section"},{"location":"claude-desktop/#Multiple-Package-Setup","page":"Claude Desktop Integration","title":"Multiple Package Setup","text":"You can configure multiple servers for different packages:\n\n{\n  \"mcpServers\": {\n    \"testpicker-package1\": {\n      \"command\": \"julia\",\n      \"args\": [\n        \"--project\",\n        \"-e\",\n        \"cd(\\\"/path/to/Package1\\\"); using TestPickerMCPServer; start_server()\"\n      ]\n    },\n    \"testpicker-package2\": {\n      \"command\": \"julia\",\n      \"args\": [\n        \"--project\",\n        \"-e\",\n        \"cd(\\\"/path/to/Package2\\\"); using TestPickerMCPServer; start_server()\"\n      ]\n    }\n  }\n}\n\nNote: Only one server can run at a time in stdio mode.","category":"section"},{"location":"claude-desktop/#Best-Practices","page":"Claude Desktop Integration","title":"Best Practices","text":"Use absolute paths in config for reliability\nSet preferences instead of ENV vars for persistence\nTest independently first:\njulia --project=@mcp -e 'using TestPickerMCPServer; start_server()'\nKeep config simple - let preferences handle settings\nRestart Claude Desktop after config changes","category":"section"},{"location":"#TestPickerMCPServer","page":"TestPickerMCPServer","title":"TestPickerMCPServer","text":"Documentation for TestPickerMCPServer.","category":"section"},{"location":"claude-code/#Claude-Code-Integration","page":"Claude Code Integration","title":"Claude Code Integration","text":"Complete guide to using TestPickerMCPServer with Claude Code CLI.","category":"section"},{"location":"claude-code/#Quick-Start","page":"Claude Code Integration","title":"Quick Start","text":"1. Navigate to your Julia package:\n\ncd /path/to/your/julia/package\n\n2. Start the server:\n\njulia --project=@mcp -e 'using TestPickerMCPServer; start_server()'\n\n3. In another terminal, use Claude Code:\n\nclaude\n\nThe server will be available as MCP tools in your Claude Code session.","category":"section"},{"location":"claude-code/#Configuration","page":"Claude Code Integration","title":"Configuration","text":"","category":"section"},{"location":"claude-code/#Recommended:-@mcp-Environment","page":"Claude Code Integration","title":"Recommended: @mcp Environment","text":"Install TestPickerMCPServer in the @mcp named environment (Julia's standard for MCP tools):\n\n# 1. Install in @mcp environment\njulia --project=@mcp -e 'using Pkg; Pkg.add(\"TestPickerMCPServer\")'\n\n# 2. Add to Claude Code MCP config\ncd /path/to/your/julia/package\nclaude mcp add --transport stdio testpicker --scope project -- \\\n  julia --startup-file=no --project=@mcp \\\n  -e \"using TestPickerMCPServer; TestPickerMCPServer.start_server()\"\n\nThis approach:\n\nUses Julia's standard @mcp environment for MCP servers\nKeeps TestPickerMCPServer separate from your project dependencies\nWorks across all your Julia packages","category":"section"},{"location":"claude-code/#Alternative:-Manual-Server-Start","page":"Claude Code Integration","title":"Alternative: Manual Server Start","text":"You can also start the server manually for testing:\n\ncd ~/MyJuliaPackage\njulia --project=@mcp -e 'using TestPickerMCPServer; start_server()'","category":"section"},{"location":"claude-code/#HTTP-Transport","page":"Claude Code Integration","title":"HTTP Transport","text":"For persistent server across sessions:\n\ncd ~/MyJuliaPackage\nTESTPICKER_MCP_TRANSPORT=http julia --project=@mcp -e 'using TestPickerMCPServer; start_server()'","category":"section"},{"location":"claude-code/#MCP-Configuration-File","page":"Claude Code Integration","title":"MCP Configuration File","text":"Add to your Claude Code MCP settings:\n\nLocation: ~/.claude/mcp_settings.json\n\n{\n  \"mcpServers\": {\n    \"testpicker\": {\n      \"command\": \"julia\",\n      \"args\": [\n        \"--project=@mcp\",\n        \"-e\",\n        \"using TestPickerMCPServer; start_server()\"\n      ],\n      \"cwd\": \"/path/to/your/julia/package\"\n    }\n  }\n}\n\nImportant: Set cwd to your package directory so the server auto-detects it.","category":"section"},{"location":"claude-code/#Using-the-Tools","page":"Claude Code Integration","title":"Using the Tools","text":"Once the server is running, you can ask Claude Code to use the testing tools:","category":"section"},{"location":"claude-code/#Example-Prompts","page":"Claude Code Integration","title":"Example Prompts","text":"Discover tests:\n\nCan you list all the test files in this package?\n\nRun specific tests:\n\nRun the tests in test_feature.jl\n\nCheck test results:\n\nShow me any test failures from the last run\n\nFind specific testsets:\n\nList all @testset blocks in files matching \"auth\"\n\nRun and debug:\n\nRun the authentication tests and show me any failures","category":"section"},{"location":"claude-code/#Per-Package-Configuration","page":"Claude Code Integration","title":"Per-Package Configuration","text":"For multiple Julia packages, create separate server configs:\n\n{\n  \"mcpServers\": {\n    \"testpicker-package1\": {\n      \"command\": \"julia\",\n      \"args\": [\"--project\", \"-e\", \"using TestPickerMCPServer; start_server()\"],\n      \"cwd\": \"/home/user/Package1\"\n    },\n    \"testpicker-package2\": {\n      \"command\": \"julia\",\n      \"args\": [\"--project\", \"-e\", \"using TestPickerMCPServer; start_server()\"],\n      \"cwd\": \"/home/user/Package2\"\n    }\n  }\n}","category":"section"},{"location":"claude-code/#Persistent-Configuration-with-Preferences","page":"Claude Code Integration","title":"Persistent Configuration with Preferences","text":"Instead of environment variables, use Preferences.jl:\n\ncd /path/to/your/package\njulia --project=@mcp -e '\nusing Preferences, TestPickerMCPServer\nset_preferences!(TestPickerMCPServer, \"transport\" => \"stdio\")\n'\n\nThen your MCP config stays simple:\n\n{\n  \"mcpServers\": {\n    \"testpicker\": {\n      \"command\": \"julia\",\n      \"args\": [\"--project\", \"-e\", \"using TestPickerMCPServer; start_server()\"],\n      \"cwd\": \"/path/to/package\"\n    }\n  }\n}","category":"section"},{"location":"claude-code/#Workflow-Example","page":"Claude Code Integration","title":"Workflow Example","text":"1. Start Claude Code in your package:\n\ncd ~/MyJuliaPackage\nclaude\n\n2. Launch the MCP server (if not auto-started):\n\nPlease start the TestPicker MCP server\n\n3. Explore tests:\n\nWhat test files are available?\n\n4. Run specific tests:\n\nRun the tests in test_core.jl and show me any failures\n\n5. Debug failures:\n\nShow me the detailed error for the first test failure","category":"section"},{"location":"claude-code/#Advanced:-Background-Server","page":"Claude Code Integration","title":"Advanced: Background Server","text":"Run the server in the background:\n\n# Start server in background\njulia --project=@mcp -e 'using TestPickerMCPServer; start_server()' &\n\n# Use Claude Code\nclaude\n\n# When done, kill the background server\npkill -f TestPickerMCPServer","category":"section"},{"location":"claude-code/#Troubleshooting","page":"Claude Code Integration","title":"Troubleshooting","text":"","category":"section"},{"location":"claude-code/#Server-Not-Found","page":"Claude Code Integration","title":"Server Not Found","text":"Symptom: Claude Code doesn't see TestPicker tools.\n\nSolution:\n\nVerify server is running: ps aux | grep julia\nCheck MCP config exists: cat ~/.claude/mcp_settings.json\nRestart Claude Code session","category":"section"},{"location":"claude-code/#Wrong-Package-Detected","page":"Claude Code Integration","title":"Wrong Package Detected","text":"Symptom: Server detects wrong package.\n\nSolution: Ensure cwd is set in MCP config:\n\n{\n  \"cwd\": \"/absolute/path/to/correct/package\"\n}","category":"section"},{"location":"claude-code/#Server-Crashes","page":"Claude Code Integration","title":"Server Crashes","text":"Check logs:\n\n# Server should show errors on stderr\njulia --project=@mcp -e 'using TestPickerMCPServer; start_server()' 2>&1 | tee server.log\n\nCommon issues:\n\nNot in a package directory → Set cwd in config\nMissing dependencies → Run Pkg.instantiate()\nSyntax errors in tests → Check test files independently","category":"section"},{"location":"claude-code/#Making-Claude-Code-Prefer-TestPicker-Tools","page":"Claude Code Integration","title":"Making Claude Code Prefer TestPicker Tools","text":"By default, Claude Code may choose to run tests using julia -e 'Pkg.test()' instead of the testpicker MCP tools. Here's how to ensure it consistently uses the testpicker tools:","category":"section"},{"location":"claude-code/#Method-1:-CLAUDE.md-File-(Most-Effective)","page":"Claude Code Integration","title":"Method 1: CLAUDE.md File (Most Effective)","text":"Create a .claude/CLAUDE.md or .claude/CLAUDE.local.md file in your project root with explicit instructions:\n\n# Test Picking with TestPicker MCP\n\nWhen running tests in this Julia project, ALWAYS use the testpicker MCP server tools:\n- Use `mcp__testpicker__run_testfiles` to run specific test files\n- Use `mcp__testpicker__run_testblocks` to run specific @testset blocks\n- Use `mcp__testpicker__list_testfiles` to discover test files\n- Use `mcp__testpicker__list_testblocks` to find @testset blocks\n- Use `mcp__testpicker__run_all_tests` to run the entire test suite\n- Use `mcp__testpicker__get_testresults` to see detailed failures\n\nNever use `julia --project -e 'Pkg.test()'` directly - prefer the testpicker tools.\n\nWhy this works: Claude Code reads CLAUDE.md files as context and uses them to inform tool selection decisions. This is the most reliable way to guide Claude's behavior.","category":"section"},{"location":"claude-code/#Method-2:-Auto-Approval-in-Settings","page":"Claude Code Integration","title":"Method 2: Auto-Approval in Settings","text":"In .claude/settings.json, configure automatic approval for the testpicker server:\n\n{\n  \"enabledMcpjsonServers\": [\"testpicker\"],\n  \"enableAllProjectMcpServers\": true\n}\n\nThis removes permission prompts and makes MCP tools easier to use.","category":"section"},{"location":"claude-code/#Method-3:-Create-a-Skill","page":"Claude Code Integration","title":"Method 3: Create a Skill","text":"Create a .claude/skills/test.yaml file that wraps testpicker functionality:\n\nname: test\ndescription: Run tests using TestPicker MCP tools\nprompt: |\n  When the user asks to run tests, use the testpicker MCP server tools:\n  - list_testfiles to discover tests\n  - run_testfiles to run specific files (accepts fuzzy queries)\n  - run_testblocks to run specific @testset blocks\n  - get_testresults to show failures\n\n  Always prefer these MCP tools over running Pkg.test() directly.\n\nThen you can simply type /test in Claude Code to activate test-picking mode.","category":"section"},{"location":"claude-code/#Method-4:-Explicit-Prompts","page":"Claude Code Integration","title":"Method 4: Explicit Prompts","text":"When asking Claude to run tests, be explicit about using testpicker:\n\nRun the authentication tests using the testpicker tool\n\nUse testpicker to list all test files","category":"section"},{"location":"claude-code/#Why-Tool-Selection-Matters","page":"Claude Code Integration","title":"Why Tool Selection Matters","text":"Claude Code doesn't have built-in \"tool preferences\" settings. Instead, it chooses tools based on:\n\nSemantic understanding of your request\nTool availability and context\nInstructions in CLAUDE.md (most influential)\nExplicit references in your prompts\n\nThe CLAUDE.md approach is most effective because it provides persistent context that guides all of Claude's decisions in your project.","category":"section"},{"location":"claude-code/#Complete-Setup-Example","page":"Claude Code Integration","title":"Complete Setup Example","text":"# 1. Install in @mcp environment (one-time)\njulia --project=@mcp -e 'using Pkg; Pkg.add(\"TestPickerMCPServer\")'\n\n# 2. In your package, add to MCP config\ncd /path/to/your/package\nclaude mcp add --transport stdio testpicker --scope project -- \\\n  julia --startup-file=no --project=@mcp \\\n  -e \"using TestPickerMCPServer; TestPickerMCPServer.start_server()\"\n\n# 3. Add .claude/CLAUDE.md to prefer testpicker tools (recommended)\nmkdir -p .claude\necho \"Always use testpicker MCP tools for running tests.\" > .claude/CLAUDE.md","category":"section"},{"location":"claude-code/#Best-Practices","page":"Claude Code Integration","title":"Best Practices","text":"Set cwd in config - Don't rely on current directory\nUse Preferences.jl - Persistent config over env vars\nOne server per package - Don't share across packages\nKeep server running - Faster responses in HTTP mode\nCheck server status - Use ps to verify it's running\nAdd CLAUDE.md - Guide Claude to prefer testpicker tools","category":"section"},{"location":"claude-code/#Example-Session","page":"Claude Code Integration","title":"Example Session","text":"# Terminal 1 - Start server\ncd ~/MyAwesomePackage\njulia --project=@mcp -e 'using TestPickerMCPServer; start_server()'\n# Server starts and waits for requests...\n\n# Terminal 2 - Use Claude Code\ncd ~/MyAwesomePackage\nclaude\n\n# In Claude Code:\n> Can you list all test files?\n# Claude uses list_testfiles tool\n# Returns: {\"files\": [\"test_core.jl\", \"test_utils.jl\"], ...}\n\n> Run test_core.jl\n# Claude uses run_testfiles with query=\"core\"\n# Executes tests...\n\n> Show any failures\n# Claude uses get_testresults\n# Returns detailed failure info","category":"section"},{"location":"claude-code/#Integration-with-Development-Workflow","page":"Claude Code Integration","title":"Integration with Development Workflow","text":"","category":"section"},{"location":"claude-code/#TDD-Workflow","page":"Claude Code Integration","title":"TDD Workflow","text":"# 1. Write failing test\n> Add a testset for the new authentication feature\n\n# 2. Run it to verify it fails\n> Run the authentication testset\n\n# 3. Implement feature\n> [You write code]\n\n# 4. Re-run test\n> Run the authentication testset again\n\n# 5. Verify it passes\n> Show test results","category":"section"},{"location":"claude-code/#Debugging-Workflow","page":"Claude Code Integration","title":"Debugging Workflow","text":"# 1. Run all tests\n> Run all tests in the package\n\n# 2. Check failures\n> Show me all test failures with details\n\n# 3. Focus on specific failure\n> Run only the tests in test_feature.jl\n\n# 4. Iterate until fixed\n> Show test results","category":"section"},{"location":"claude-code/#Tips","page":"Claude Code Integration","title":"Tips","text":"Keep server terminal visible - See real-time test output\nUse fuzzy queries - \"auth\" matches \"test_authentication.jl\"\nAsk for results - Claude won't show them automatically\nChain commands - \"Run tests and show failures\"\nBe specific - \"Run testset 'Edge Cases' in test_feature.jl\"","category":"section"}]
}
